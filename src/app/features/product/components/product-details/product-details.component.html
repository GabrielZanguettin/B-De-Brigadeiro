<section class="product-details">
    <div class="container product-details__container">
        <div class="product-details__image">
            <picture>
                <source [attr.srcset]="
        'assets/products/' + product.base + '-320.avif 320w, ' +
        'assets/products/' + product.base + '-640.avif 640w, ' +
        'assets/products/' + product.base + '-960.avif 960w, ' +
        'assets/products/' + product.base + '-1200.avif 1200w'
      " type="image/avif" />
                <source [attr.srcset]="
        'assets/products/' + product.base + '-320.webp 320w, ' +
        'assets/products/' + product.base + '-640.webp 640w, ' +
        'assets/products/' + product.base + '-960.webp 960w, ' +
        'assets/products/' + product.base + '-1200.webp 1200w'
      " type="image/webp" />
                <img [src]="'assets/products/' + product.base + '-640.jpg'" [attr.srcset]="
        'assets/products/' + product.base + '-320.jpg 320w, ' +
        'assets/products/' + product.base + '-640.jpg 640w, ' +
        'assets/products/' + product.base + '-960.jpg 960w, ' +
        'assets/products/' + product.base + '-1200.jpg 1200w'
      " sizes="(max-width: 600px) 320px, (max-width: 900px) 640px, 300px" loading="lazy" decoding="async"
                    [style.backgroundImage]="'url(assets/products/' + product.base + '-lqip.jpg)'"
                    style="background-size:cover;background-position:center" [alt]="'Imagem do ' + product.name"
                    width="300" height="300" />
            </picture>
        </div>
        <div class="product-details__content">
            <header class="product-details__header">
                <h1 class="product-details__name">{{ product.name }}</h1>
            </header>
            <div class="product-details__infos">
                <div class="product-details__price">
                    <h2 class="product-details__price-label">Valor</h2>
                    <h2 class="product-details__price-value">{{ product.price }}</h2>
                </div>
            </div>
            <div class="product-details__description">
                <h2 class="product-details__description-title">Descrição</h2>
                <p class="product-details__description-text">{{ product.description }}</p>
            </div>
            <!-- <div class="product-details__stock">
                <div class="product-details__stock-wrapper">
                    <h2 class="product-details__stock-label">Quantidade:</h2>
                    <div class="product-details__quantity">
                        <button class="product-details__btn product-details__btn--decrement" type="button">
                            <i class="fas fa-minus"></i>
                        </button>
                        <span class="product-details__quantity-value" id="product-quantity">20</span>
                        <button class="product-details__btn product-details__btn--increment" type="button">
                            <i class="fas fa-plus"></i>
                        </button>
                    </div>
                </div>
            </div> -->
            <div class="product-details__actions">
                <button class="product-details__btn product-details__btn--buy"
                    *ngIf="canBuy(product)" (click)="openTreatBoxBuilderModal()" type="button">
                    Adicionar ao carrinho
                </button>
            </div>
        </div>
    </div>
</section>